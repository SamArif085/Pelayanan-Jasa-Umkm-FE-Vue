"use strict";(self["webpackChunkproject_pa"]=self["webpackChunkproject_pa"]||[]).push([[984],{237:function(e,a,s){s.d(a,{A:function(){return p}});var t=s(641),l=s(751);const o={class:"modal-backdrop"},n={class:"modal dialog-centered",role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},r={class:"modal-header bg-primary text-light",id:"modalTitle"},i={class:"modal-body",id:"modalDescription"},d={class:"modal-footer"};function c(e,a,s,c,u,m){return(0,t.uX)(),(0,t.Wv)(l.eB,{name:"modal-fade"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",o,[(0,t.Lk)("div",n,[(0,t.Lk)("header",r,[(0,t.RG)(e.$slots,"header",{},(()=>[(0,t.eW)(" This is the default title! ")]),!0),(0,t.Lk)("button",{type:"button",class:"btn-close",onClick:a[0]||(a[0]=(...e)=>m.close&&m.close(...e)),"aria-label":"Close"})]),(0,t.Lk)("section",i,[(0,t.RG)(e.$slots,"body",{},(()=>[(0,t.eW)(" This is the default body! ")]),!0)]),(0,t.Lk)("footer",d,[(0,t.RG)(e.$slots,"footer",{},(()=>[(0,t.eW)(" This is the default footer! ")]),!0),(0,t.Lk)("button",{type:"button",class:"btn btn-green",onClick:a[1]||(a[1]=(...e)=>m.close&&m.close(...e)),"aria-label":"Close modal"}," Close Modal ")])])])])),_:3})}var u={name:"BaseModal",methods:{close(){this.$emit("close")}}},m=s(262);const k=(0,m.A)(u,[["render",c],["__scopeId","data-v-7e1deee5"]]);var p=k},984:function(e,a,s){s.r(a),s.d(a,{default:function(){return W}});var t=s(641),l=s(751),o=s(33);const n=(0,t.Lk)("h2",{class:"modal-title"},"Form Data",-1),r={class:"card"},i={class:"card-body"},d={class:"mb-3"},c=(0,t.Lk)("label",{class:"form-label"},"Nama",-1),u=(0,t.Lk)("option",{value:"",disabled:"",selected:""},"Pilih Role",-1),m=["value"],k={class:"mb-3"},p=(0,t.Lk)("label",{class:"form-label"},"Username",-1),h={class:"mb-3"},b=(0,t.Lk)("label",{class:"form-label"},"No.Telp",-1),L={class:"mb-3"},f=(0,t.Lk)("label",{class:"form-label"},"Password",-1),v={class:"mb-3"},g={class:"container-fluid p-0 mt-5"},w=(0,t.Lk)("h1",{class:"h3 mb-3 text-center"},[(0,t.Lk)("strong",null,"Tambah User")],-1),y={class:"row"},C={class:"col-12"},_={class:"card"},U={class:"card-body"},T={class:"table table-striped table-bordered"},M=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",{class:"text-center"},"No"),(0,t.Lk)("th",{class:"text-center"},"Nama"),(0,t.Lk)("th",{class:"text-center"},"Username"),(0,t.Lk)("th",{class:"text-center"},"No.Telp"),(0,t.Lk)("th",{class:"text-center action-column"},"Action")])],-1),x={class:"d-flex"},j={class:"col-4"},A=["onClick"],B={class:"col-4"},D=["onClick"];function S(e,a,s,S,E,R){const $=(0,t.g2)("BaseModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",null,[(0,t.Lk)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>E.showModal=!0)},"Tambah"),E.showModal?((0,t.uX)(),(0,t.Wv)($,{key:0,ref:"baseModal",onClose:a[10]||(a[10]=e=>E.showModal=!1)},{header:(0,t.k6)((()=>[n,(0,t.Lk)("button",{type:"button",class:"btn-close",onClick:a[1]||(a[1]=(...e)=>R.closeModal&&R.closeModal(...e)),"aria-label":"Close"})])),body:(0,t.k6)((()=>[(0,t.Lk)("div",r,[(0,t.Lk)("div",i,[(0,t.Lk)("form",{onSubmit:a[8]||(a[8]=(0,l.D$)(((...e)=>R.pesan&&R.pesan(...e)),["prevent"]))},[(0,t.Lk)("div",d,[c,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>E.nama=e),class:"form-select",onChange:a[3]||(a[3]=(...e)=>R.setRole&&R.setRole(...e))},[u,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(E.namaOption,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.value,value:e.value},(0,o.v_)(e.label),9,m)))),128))],544),[[l.u1,E.nama]])]),(0,t.Lk)("div",k,[p,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>E.username=e),class:"form-control",type:"text",name:"username",placeholder:"Username"},null,512),[[l.Jo,E.username]])]),(0,t.Lk)("div",h,[b,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>E.no_telp=e),class:"form-control",type:"text",name:"no_telp",placeholder:"No.Telp"},null,512),[[l.Jo,E.no_telp]])]),(0,t.Lk)("div",L,[f,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>E.password=e),class:"form-control",type:"password",name:"password",placeholder:"Password"},null,512),[[l.Jo,E.password]])]),(0,t.Lk)("div",v,[(0,t.bo)((0,t.Lk)("input",{hidden:"","onUpdate:modelValue":a[7]||(a[7]=e=>E.role=e),class:"form-control",type:"text",name:"role",placeholder:"Role"},null,512),[[l.Jo,E.role]])])],32)])])])),footer:(0,t.k6)((()=>[(0,t.Lk)("button",{class:"btn btn-primary",onClick:a[9]||(a[9]=(...e)=>R.pesan&&R.pesan(...e))},"Submit")])),_:1},512)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",g,[w,(0,t.Lk)("div",y,[(0,t.Lk)("div",C,[(0,t.Lk)("div",_,[(0,t.Lk)("div",U,[(0,t.Lk)("table",T,[M,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(E.getUser,((e,a)=>((0,t.uX)(),(0,t.CE)("tr",{key:e.id},[(0,t.Lk)("td",null,(0,o.v_)(a+1),1),(0,t.Lk)("td",null,(0,o.v_)(e.name),1),(0,t.Lk)("td",null,(0,o.v_)(e.username),1),(0,t.Lk)("td",null,(0,o.v_)(e.no_telp),1),(0,t.Lk)("td",x,[(0,t.Lk)("div",j,[(0,t.Lk)("button",{class:"btn btn-warning mr-2",onClick:e=>R.editUser(a)},"Edit",8,A)]),(0,t.Lk)("div",B,[(0,t.Lk)("button",{class:"btn btn-danger",onClick:e=>R.deleteUser(a)},"Delete",8,D)])])])))),128))])])])])])])])],64)}var E=s(237),R=s(911),$=s.n(R),X=s(250),N={name:"LayananAdminAddTeknisi",mounted(){this.getData(),$().replace()},components:{BaseModal:E.A},data(){return{showModal:!1,id:null,nama:"",namaOption:[{label:"Pelanggan",value:"Pelanggan"},{label:"Teknisi",value:"Teknisi"}],username:"",no_telp:"",password:"",role:"",getUser:[]}},methods:{async getData(){try{const e=await X.A.get("https://umkmbackend.pjjaka.com/api/get-user");this.getUser=e.data}catch(e){console.error(e)}},closeModal(){this.id=null,this.nama="",this.username="",this.no_telp="",this.password="",this.role="",this.$refs.baseModal.close()},editUser(e){const a=this.getUser[e];this.id=a.id,this.nama=a.name,this.username=a.username,this.no_telp=a.no_telp,this.password="",this.role=a.role,this.showModal=!0},deleteUser(e){const a=this.getUser[e],s=a.id;Swal.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan tindakan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Batal"}).then((a=>{a.isConfirmed&&X.A.delete(`https://umkmbackend.pjjaka.com/api/submit-delete-user/${s}`).then((a=>{console.log(a.data);const s="Data pengguna berhasil dihapus.";Swal.fire("Success",s,"success"),this.getUser.splice(e,1)})).catch((e=>{console.error(e),Swal.fire("Error","Terjadi kesalahan saat menghapus data","error")}))}))},pesan(){const e=this.id?`https://umkmbackend.pjjaka.com/api/submit-update-user/${this.id}`:"https://umkmbackend.pjjaka.com/api/submit-user",a=this.id?"put":"post";X.A[a](e,{nama:this.nama,username:this.username,password:this.password,no_telp:this.no_telp,role:this.role}).then((e=>{console.log(e.data);const a="Data berhasil "+(this.id?"diubah":"disimpan");Swal.fire("Success",a,"success"),this.closeModal(),this.getData()})).catch((e=>{console.error(e),Swal.fire("Error","Terjadi kesalahan saat menyimpan data","error")}))},setRole(){"Pelanggan"===this.nama?this.role="3":"Teknisi"===this.nama?this.role="2":this.role=""}}},P=s(262);const V=(0,P.A)(N,[["render",S]]);var W=V}}]);
//# sourceMappingURL=984.3b2d578e.js.map
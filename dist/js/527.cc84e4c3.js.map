{"version":3,"file":"js/527.cc84e4c3.js","mappings":"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","sources":["webpack://project-pa/./src/views/pages/Pesanan/PesanServisPembeli.vue","webpack://project-pa/./src/views/pages/Pesanan/PesanServisPembeli.vue?f6fb"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid p-0\">\r\n    <h1 class=\"h3 mb-3\"><strong>Pesan Servis Pelanggan</strong></h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <form @submit.prevent=\"pesan\">\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Nama Elektronik</label>\r\n                <select ref=\"select2\" v-model=\"selectedNamaElektronik\" class=\"form-control\">\r\n                  <option :value=\"null\" disabled>Pilih Elektronik</option>\r\n                  <option v-for=\"option in namaElektronikOptions\" :key=\"option.id\" :value=\"option.id\">\r\n                    {{ option.layanan }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Detail Masalah</label>\r\n                <textarea v-model=\"detailMasalah\" class=\"form-control\" name=\"detail_masalah\" id=\"detail_masalah\"\r\n                  cols=\"30\" rows=\"10\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Tanggal Servis</label>\r\n                <input v-model=\"tglServis\" class=\"form-control form-control-lg\" type=\"date\" name=\"tgl_servis\"\r\n                  placeholder=\"Tanggal Servis\" />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Alamat pelanggan</label>\r\n                <input v-model=\"alamat\" class=\"form-control form-control-lg\" name=\"alamat\"\r\n                  placeholder=\"Alamat pelanggan\" />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <button type=\"submit\" class=\"btn btn-success\">Pesan</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport feather from \"feather-icons\";\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"PesanServis\",\r\n\r\n  mounted() {\r\n    const userData = JSON.parse(localStorage.getItem('user'));\r\n    const userID = userData.data.id;\r\n    this.id_pelanggan = userID;\r\n    feather.replace();\r\n    this.getNamaElektronikOptions();\r\n\r\n    const today = new Date();\r\n    const offset = 7 * 60 * 60 * 1000;\r\n    const localTime = today.getTime();\r\n    const gmtPlus7Time = new Date(localTime + offset);\r\n    const formattedDate = gmtPlus7Time.toISOString().split('T')[0];\r\n    this.tglServis = formattedDate;\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      selectedNamaElektronik: null,\r\n      namaElektronikOptions: [],\r\n      detailMasalah: '',\r\n      tglServis: '',\r\n      id_pelanggan: '',\r\n      alamat: ''\r\n    };\r\n  },\r\n\r\n  methods: {\r\n\r\n    async getNamaElektronikOptions() {\r\n      try {\r\n        const response = await axios.get('https://umkmbackend.pjjaka.com/api/nama-elektronik');\r\n        this.namaElektronikOptions = response.data;\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    async pesan() {\r\n      try {\r\n        const selectedOption = this.namaElektronikOptions.find(option => option.id === this.selectedNamaElektronik);\r\n        const response = await axios.post('https://umkmbackend.pjjaka.com/api/submit-pesanan', {\r\n          layanan: selectedOption.id,\r\n          masalah: this.detailMasalah,\r\n          tgl_pesan: this.tglServis,\r\n          id_pelanggan: this.id_pelanggan,\r\n          alamat: this.alamat\r\n        });\r\n\r\n        if (response && response.data && response.data.error) {\r\n          console.error(response.data.error);\r\n          Swal.fire(\r\n            'Error',\r\n            'Gagal menyimpan pesanan.',\r\n            'error'\r\n          );\r\n        } else {\r\n          Swal.fire(\r\n            'Berhasil',\r\n            'Pesanan berhasil disimpan.',\r\n            'success'\r\n          );\r\n          console.log(response.data);\r\n          this.selectedNamaElektronik = null;\r\n          this.detailMasalah = '';\r\n          this.tglServis = '';\r\n          this.$router.replace({ path: '/pesan-servis-pelanggan' });\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n        Swal.fire(\r\n          'Error',\r\n          'Terjadi kesalahan saat menyimpan pesanan.',\r\n          'error'\r\n        );\r\n      }\r\n    },\r\n  },\r\n\r\n  // computed: {\r\n  //   hargaElektronik() {\r\n  //     const selectedOption = this.namaElektronikOptions.find(option => option.id === this.selectedNamaElektronik);\r\n  //     return selectedOption ? selectedOption.harga : null;\r\n  //   },\r\n  // },\r\n\r\n  // watch: {\r\n  //   selectedNamaElektronik(newVal, oldVal) {\r\n  //     this.harga = this.hargaElektronik;\r\n  //   },\r\n  // },\r\n};\r\n\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./PesanServisPembeli.vue?vue&type=template&id=036fe334\"\nimport script from \"./PesanServisPembeli.vue?vue&type=script&lang=js\"\nexport * from \"./PesanServisPembeli.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","value","disabled","type","pesan","ref","namaElektronikOptions","option","key","id","layanan","selectedNamaElektronik","name","cols","rows","detailMasalah","placeholder","tglServis","alamat","mounted","userData","JSON","parse","localStorage","getItem","userID","data","this","id_pelanggan","getNamaElektronikOptions","today","Date","offset","localTime","getTime","gmtPlus7Time","formattedDate","toISOString","split","methods","response","axios","get","error","console","selectedOption","find","post","masalah","tgl_pesan","Swal","fire","log","$router","replace","path","__exports__","render"],"sourceRoot":""}